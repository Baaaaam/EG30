<My_include>

  <!--      FBR fabrication      -->
  <prototype>
    <name>FBR_driver_fabrication</name>
    <lifetime>960</lifetime>
    <config>
      <Mixer>

        <in_streams>
          <stream>
            <info>
              <mixing_ratio>E1_ratio</mixing_ratio>
              <buf_size>E1_buf</buf_size>
            </info>
            <commodities>
              <item>
                <commodity>E1_str</commodity>
                <pref>10</pref>
              </item>
              <item>
                <commodity>E1_alt</commodity>
                <pref>1</pref>
              </item>
            </commodities>
          </stream>
          <stream>
            <info>
              <mixing_ratio>J1_ratio</mixing_ratio>
              <buf_size>J1_buf</buf_size>
            </info>
            <commodities>
              <item>
                <commodity>J1_str</commodity>
                <pref>10</pref>
              </item>
              <item>
                <commodity>J1_alt</commodity>
                <pref>1</pref>
              </item>
            </commodities>
          </stream>
        </in_streams>

        <throughput>29565</throughput>
        <out_commod>FBR_MOX_new</out_commod>
        <out_buf_size>29565</out_buf_size>

      </Mixer>
    </config>
  </prototype>

  <prototype>
    <name>FBR_blanket_fabrication</name>
    <!--    <lifetime>960</lifetime> -->
    <config>
      <Mixer>
        <in_streams>
          <stream>
            <info>
              <mixing_ratio>J1_ratio</mixing_ratio>
              <buf_size>J1_buf</buf_size>
            </info>
            <commodities>
              <item>
                <commodity>J1_str</commodity>
                <pref>10</pref>
              </item>
              <item>
                <commodity>J1_alt</commodity>
                <pref>1</pref>
              </item>
            </commodities>
          </stream>

          <stream>
            <info>
              <mixing_ratio>NU_ratio</mixing_ratio>
              <buf_size>NU_buf</buf_size>
            </info>
            <commodities>
              <item>
                <commodity>NU</commodity>
                <pref>1</pref>
              </item>
            </commodities>
          </stream>

        </in_streams>

        <throughput>29565</throughput>
        <out_commod>FBR_blanket_new</out_commod>
        <out_buf_size>29565</out_buf_size>

      </Mixer>
    </config>
  </prototype>


<!-- *********************** -->

  <!--       FBR reactor       -->
  <prototype>
    <name>FBR_driver</name>
    <lifetime>960</lifetime>
    <config>
      <Reactor>
        <fuel_inrecipes>  <val>FBR_driver_MOX_new</val></fuel_inrecipes>
        <fuel_incommods>  <val>FBR_driver_MOX_new</val></fuel_incommods>

        <fuel_outrecipes> <val>FBR_driver_MOX_spent</val></fuel_outrecipes>
        <fuel_outcommods> <val>FBR_driver_MOX_spent</val></fuel_outcommods>

<!-- BU/30days * Mcore/batch / P_eff = 74.865/(30) * 17497./4. / (1000*0.9) -->
        <cycle_time>12</cycle_time>
        <refuel_time>0</refuel_time>
<!-- Core_inv / Core_Ass = 17497 / 4. --> 
        <assem_size>4374.25</assem_size>
        <n_assem_core>4</n_assem_core>
        <n_assem_batch>1</n_assem_batch>
<!-- P_th * Ef_th * Cap_fac = 1000*40.0%*0.9 --> 
        <power_cap>360</power_cap>

      </Reactor>
    </config>
  </prototype>

  <prototype>
    <name>FBR_in_blanket</name>
    <lifetime>960</lifetime>
    <config>
      <Reactor>
        <fuel_inrecipes>  <val>FBR_blanket_new</val></fuel_inrecipes>
        <fuel_incommods>  <val>FBR_blanket_new</val></fuel_incommods>

        <fuel_outrecipes> <val>FBR_in_blanket_spent</val></fuel_outrecipes>
        <fuel_outcommods> <val>FBR_blanket_spent</val></fuel_outcommods>

<!-- Same as the Driver Core -->
<!-- BU/30days * Mcore/batch / P_eff = 74.865/(30) * 17497./4. / (1000*0.9) -->
        <cycle_time>12</cycle_time>
        <refuel_time>0</refuel_time>
<!-- Core_inv / Core_Ass = 3820 / 4. --> 
        <assem_size>955</assem_size>
        <n_assem_core>4</n_assem_core>
        <n_assem_batch>1</n_assem_batch>
<!-- ******************************** --> 
        <power_cap>0.1</power_cap>

      </Reactor>
    </config>
  </prototype>

  <prototype>
    <name>FBR_out_blanket</name>
    <lifetime>960</lifetime>
    <config>
      <Reactor>
        <fuel_inrecipes>  <val>FBR_blanket_new</val></fuel_inrecipes>
        <fuel_incommods>  <val>FBR_blanket_new</val></fuel_incommods>

        <fuel_outrecipes> <val>FBR_out_blanket_spent</val></fuel_outrecipes>
        <fuel_outcommods> <val>FBR_blanket_spent</val></fuel_outcommods>

<!-- Same as the Driver Core -->
<!-- BU/30days * Mcore/batch / P_eff = 74.865/(30) * 17497./4. / (1000*0.9) -->
        <cycle_time>12</cycle_time>
        <refuel_time>0</refuel_time>
<!-- Core_inv / Core_Ass = 5282/8. --> 
        <assem_size>660.250</assem_size>
        <n_assem_core>8</n_assem_core>
        <n_assem_batch>1</n_assem_batch>
<!-- ******************************** --> 
        <power_cap>0.1</power_cap>

      </Reactor>
    </config>
  </prototype>



  <!-- *********************** -->

  <!--       FBR driver Cooling       -->
  <prototype>
    <name>FBR_driver_MOX_cooling</name>
    <config>
      <Storage>
        <in_commods> <val>FBR_driver_MOX_spent</val></in_commods>
        <out_commods> <val>FBR_driver_MOX_cooled</val></out_commods>
        <residence_time>84</residence_time>
      </Storage>
    </config>
  </prototype>
  <!-- *********************** -->

  <!--       FBR driver Storage       -->
  <prototype>
    <name>FBR_driver_MOX_storage</name>
    <config>
      <Storage>
        <in_commods> <val>FBR_driver_MOX_cooled</val></in_commods>
        <out_commods> <val>FBR_driver_MOX_stored</val></out_commods>
        <residence_time>0</residence_time>
      </Storage>
    </config>
  </prototype>
  <!-- *********************** -->

  <!--      FBR driver Separation     -->
  <prototype>
    <name>FBR_driver_separation</name>
    <config>
      <Separations>
        <feedbuf_size>107537</feedbuf_size>

        <feed_commods>
          <val>FBR_driver_MOX_stored</val>
        </feed_commods>

        <feed_commod_prefs>
          <val>1.0</val>
        </feed_commod_prefs>

        <throughput>83333.3333</throughput>

        <streams>
          <item>
            <commod>E1</commod>
            <info>
              <buf_size>1e100</buf_size>
              <efficiencies>
                <item> <comp>Pu</comp> <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>U</comp>  <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>Np</comp> <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>Am</comp> <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>Cm</comp> <eff>8.83838383838383757e-01</eff> </item>
              </efficiencies>
            </info>
          </item>
        </streams>

        <leftover_commod>waste</leftover_commod>

      </Separations>
    </config>
  </prototype>
  <!-- *********************** -->



  <!-- *********************** -->


  <!--       FBR blanket Cooling       -->
  <prototype>
    <name>FBR_blanket_cooling</name>
    <config>
      <Storage>
        <in_commods> <val>FBR_blanket_spent</val></in_commods>
        <out_commods> <val>FBR_blanket_cooled</val></out_commods>
        <residence_time>84</residence_time>
      </Storage>
    </config>
  </prototype>
  <!-- *********************** -->

  <!--       FBR blanket Storage       -->
  <prototype>
    <name>FBR_blanket_storage</name>
    <config>
      <Storage>
        <in_commods> <val>FBR_blanket_cooled</val></in_commods>
        <out_commods> <val>FBR_blanket_stored</val></out_commods>
        <residence_time>0</residence_time>
      </Storage>
    </config>
  </prototype>
  <!-- *********************** -->

  <!--      FBR blanket Separation     -->
  <prototype>
    <name>FBR_blanket_separation</name>
    <config>
      <Separations>
        <feedbuf_size>107537</feedbuf_size>

        <feed_commods>
          <val>FBR_blanket_stored</val>
        </feed_commods>

        <feed_commod_prefs>
          <val>1.0</val>
        </feed_commod_prefs>

        <throughput>83333.3333</throughput>

        <streams>
          <item>
            <commod>E2</commod>
            <info>
              <buf_size>1e100</buf_size>
              <efficiencies>
                <item> <comp>Pu</comp> <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>U</comp>  <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>Np</comp> <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>Am</comp> <eff>8.83838383838383757e-01</eff> </item>
                <item> <comp>Cm</comp> <eff>8.83838383838383757e-01</eff> </item>
              </efficiencies>
            </info>
          </item>

        </streams>

        <leftover_commod>waste</leftover_commod>

      </Separations>
    </config>
  </prototype>
  <!-- *********************** -->

  <!--      FBR blanket E2 storage     -->


  <prototype>
    <name>Storage_E1</name>
    <config>
      <Storage>
        <in_commods>
          <val>E1</val>
        </in_commods>
        <out_commods> <val>E1_str</val></out_commods>
        <residence_time>0</residence_time>
      </Storage>
    </config>
  </prototype>
  <!-- *********************** -->


  <prototype>
    <name>Storage_E2</name>
    <config>
      <Storage>
        <in_commods>
          <val>E2</val>
        </in_commods>
        <out_commods> <val>E2_str</val></out_commods>
        <residence_time>0</residence_time>
      </Storage>
    </config>
  </prototype>


</My_include>
